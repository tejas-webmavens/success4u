!function(a){function c(a,b,c,d){if(b.points.errorbars){var e=[{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0}],f=b.points.errorbars;"x"!=f&&"xy"!=f||(b.points.xerr.asymmetric?(e.push({x:!0,number:!0,required:!0}),e.push({x:!0,number:!0,required:!0})):e.push({x:!0,number:!0,required:!0})),"y"!=f&&"xy"!=f||(b.points.yerr.asymmetric?(e.push({y:!0,number:!0,required:!0}),e.push({y:!0,number:!0,required:!0})):e.push({y:!0,number:!0,required:!0})),d.format=e}}function d(a,b){var c=a.datapoints.points,d=null,e=null,f=null,g=null,h=a.points.xerr,i=a.points.yerr,j=a.points.errorbars;"x"==j||"xy"==j?h.asymmetric?(d=c[b+2],e=c[b+3],"xy"==j&&(i.asymmetric?(f=c[b+4],g=c[b+5]):f=c[b+4])):(d=c[b+2],"xy"==j&&(i.asymmetric?(f=c[b+3],g=c[b+4]):f=c[b+3])):"y"==j&&(i.asymmetric?(f=c[b+2],g=c[b+3]):f=c[b+2]),null==e&&(e=d),null==g&&(g=f);var k=[d,e,f,g];return h.show||(k[0]=null,k[1]=null),i.show||(k[2]=null,k[3]=null),k}function e(a,b,c){var e=c.datapoints.points,g=c.datapoints.pointsize,h=[c.xaxis,c.yaxis],i=c.points.radius,j=[c.points.xerr,c.points.yerr],k=!1;if(h[0].p2c(h[0].max)<h[0].p2c(h[0].min)){k=!0;var l=j[0].lowerCap;j[0].lowerCap=j[0].upperCap,j[0].upperCap=l}var m=!1;if(h[1].p2c(h[1].min)<h[1].p2c(h[1].max)){m=!0;var l=j[1].lowerCap;j[1].lowerCap=j[1].upperCap,j[1].upperCap=l}for(var n=0;n<c.datapoints.points.length;n+=g)for(var o=d(c,n),p=0;p<j.length;p++){var q=[h[p].min,h[p].max];if(o[p*j.length]){var r=e[n],s=e[n+1],t=[r,s][p]+o[p*j.length+1],u=[r,s][p]-o[p*j.length];if("x"==j[p].err&&(s>h[1].max||s<h[1].min||t<h[0].min||u>h[0].max))continue;if("y"==j[p].err&&(r>h[0].max||r<h[0].min||t<h[1].min||u>h[1].max))continue;var v=!0,w=!0;if(t>q[1]&&(v=!1,t=q[1]),u<q[0]&&(w=!1,u=q[0]),"x"==j[p].err&&k||"y"==j[p].err&&m){var l=u;u=t,t=l,l=w,w=v,v=l,l=q[0],q[0]=q[1],q[1]=l}r=h[0].p2c(r),s=h[1].p2c(s),t=h[p].p2c(t),u=h[p].p2c(u),q[0]=h[p].p2c(q[0]),q[1]=h[p].p2c(q[1]);var x=j[p].lineWidth?j[p].lineWidth:c.points.lineWidth,y=null!=c.points.shadowSize?c.points.shadowSize:c.shadowSize;if(x>0&&y>0){var z=y/2;b.lineWidth=z,b.strokeStyle="rgba(0,0,0,0.1)",f(b,j[p],r,s,t,u,v,w,i,z+z/2,q),b.strokeStyle="rgba(0,0,0,0.2)",f(b,j[p],r,s,t,u,v,w,i,z/2,q)}b.strokeStyle=j[p].color?j[p].color:c.color,b.lineWidth=x,f(b,j[p],r,s,t,u,v,w,i,0,q)}}}function f(b,c,d,e,f,h,i,j,k,l,m){e+=l,f+=l,h+=l,"x"==c.err?(f>d+k?g(b,[[f,e],[Math.max(d+k,m[0]),e]]):i=!1,h<d-k?g(b,[[Math.min(d-k,m[1]),e],[h,e]]):j=!1):(f<e-k?g(b,[[d,f],[d,Math.min(e-k,m[0])]]):i=!1,h>e+k?g(b,[[d,Math.max(e+k,m[1])],[d,h]]):j=!1),k=null!=c.radius?c.radius:k,i&&("-"==c.upperCap?"x"==c.err?g(b,[[f,e-k],[f,e+k]]):g(b,[[d-k,f],[d+k,f]]):a.isFunction(c.upperCap)&&("x"==c.err?c.upperCap(b,f,e,k):c.upperCap(b,d,f,k))),j&&("-"==c.lowerCap?"x"==c.err?g(b,[[h,e-k],[h,e+k]]):g(b,[[d-k,h],[d+k,h]]):a.isFunction(c.lowerCap)&&("x"==c.err?c.lowerCap(b,h,e,k):c.lowerCap(b,d,h,k)))}function g(a,b){a.beginPath(),a.moveTo(b[0][0],b[0][1]);for(var c=1;c<b.length;c++)a.lineTo(b[c][0],b[c][1]);a.stroke()}function h(b,c){var d=b.getPlotOffset();c.save(),c.translate(d.left,d.top),a.each(b.getData(),function(a,d){d.points.errorbars&&(d.points.xerr.show||d.points.yerr.show)&&e(b,c,d)}),c.restore()}function i(a){a.hooks.processRawData.push(c),a.hooks.draw.push(h)}var b={series:{points:{errorbars:null,xerr:{err:"x",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null},yerr:{err:"y",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null}}}};a.plot.plugins.push({init:i,options:b,name:"errorbars",version:"1.0"})}(jQuery);